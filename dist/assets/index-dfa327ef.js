(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();function d(n){const o=document.querySelector("#users-select");n.map(t=>{const s=document.createElement("option");s.setAttribute("value",t.id),s.innerText=t.firstName,o.appendChild(s)})}function a(n){if(n.length===0)return;const o=document.querySelector("#posts-section"),t=document.querySelector("#featured-post-title"),s=document.querySelector("#featured-post-body"),e=document.querySelector("#related-posts-section");o.classList.remove("invisible");const r=[...n],c=r.pop();if(t.innerText=c.title,s.innerText=c.body,r.length===0)return;const i=document.createElement("h2");i.innerText="Related posts",e.appendChild(i),r.map(u=>{const l=document.createElement("p");l.innerText=u.title,e.appendChild(l)})}function m(n){if(n.length===0)return;const o=document.querySelector("#featured-post-comments"),t=document.createElement("h3");t.innerText="Comments",o.appendChild(t),n.map(s=>{const e=document.createElement("p");e.innerText=s.body,o.appendChild(e)})}function f(n){const o=document.querySelector("#error-message");o.classList.remove("invisible"),o.innerText=n}function p(){const n=document.querySelector("#posts-section"),o=document.querySelector("#featured-post-title"),t=document.querySelector("#featured-post-body"),s=document.querySelector("#related-posts-section"),e=document.querySelector("#featured-post-comments"),r=document.querySelector("#error-message");o.innerHTML="",t.innerHTML="",s.innerHTML="",e.innerHTML="",r.innerHTML="",n.classList.add("invisible"),r.classList.add("invisible")}const y=document.querySelector("#users-select"),h="https://dummyjson.com/users";fetch(h).then(n=>n.json()).then(n=>{const{users:o}=n;d(o)});y.addEventListener("change",n=>{p();const o=`https://dummyjson.com/posts/user/${n.target.value}`;fetch(o).then(t=>t.json()).then(t=>{const{posts:s}=t;console.log(s),a(s);const e=`https://dummyjson.com/posts/${s[0].id}/comments`;return fetch(e)}).then(t=>t.json()).then(t=>{const{comments:s}=t;m(s)}).catch(t=>{f("Erro ao recuperar informações"),console.log(t.message)})});
